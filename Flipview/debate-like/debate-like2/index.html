<!DOCTYPE html>
<html lang="en">
<head>
  <title>FlipView</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
   <script src="test.js"></script>
 <script type="module" src="x-frame-bypass.js"></script></script>
  <script type="text/javascript" src="jquery.jscrollpane.min.js"></script>
 
  
 <script>

 </script>
  <style>
  .fakeimg {
    height: 200px;
    background: #aaa;
  }
.glitch {

    line-height: 1;
    font-family: 'Poppins', sans-serif;


  
    transform: translate(-50%, -50%);
    margin: 0;
    text-decoration: none;
	
}

.glitch:hover
 {

  color:pink;
	
}

.np
{
position:fixed;

}

h2{
position:center;
}


 /* The Modal (background) */
.modal {
  display: none; /* Hidden by default */
  
  z-index: 1; /* Sit on top */
  left: 0px;


  overflow: auto; /* Enable scroll if needed */
  background-color: rgb(0,0,0); /* Fallback color */
  background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
}


/* Modal Content/Box */
.modal-content {
  background-color: #fefefe;
  border: 1px solid #888;
  width: 100%; /* Could be more or less, depending on screen size */
  position: relative; /* Stay in place */
  //bottom: 0px;
}

/* The Close Button */
.close {
  color: #aaa;
  float: right;
  font-size: 28px;
  font-weight: bold;
}

.close:hover,
.close:focus {
  color: black;
  text-decoration: none;
  cursor: pointer;
} 

#footer {
   position:absolute;
   bottom:0;
   width:100%;
   height:60px;   /* Height of the footer */
   background:#6cf;
}

.carousel-indicators li {
    display: inline-block;
    width: 48px;
    height: 48px;
    margin: 10px;
    text-indent: 0;
    cursor: pointer;
    border: none;
    border-radius: 0%;
    box-shadow: inset 1px 1px 1px 1px rgba(0,0,0,0.5);    
}
.carousel-indicators .active {
    width: 48px;
    height: 48px;
    margin: 10px;
    background-color: DeepSkyBlue ;
}
.topnav{
  margin: 10px;
}
.topnav-right {
  right: 10px;
  margin-left:10px;
}


#nav1
{  
   background: rgba(0,0,0,.05);     
}


#argutitle {
  position: fixed;
  top: 0;
  left: 0;
  z-index: 999;
  width: 100%;
  height: 23px;
}

.affix {
  top: 70px;
  width: 100%;
   z-index: 999;
}

.divargu:hover{

background-color:#E8E8E8;

}



.flex-container {
    
       display: flex;
  flex-wrap: nowrap;
  overflow-x: auto;
  overflow-y: hidden;
      
}


.fill-width {
  flex: 1;
}

#leftArrow {
    
width:40px;
height:40px;
background:#ff0000; 
position:absolute;
left:0px;
}

#rightArrow {
    
width:40px;
height:40px;
background:#ff0000; 
position:absolute;
right:0px;
}

#rightDiv{
width:25%;
position:relative;
text-align:center;
}

#middleDiv{
width:70%;
position:relative;


}

#leftDiv{
width:5%;
position:relative;
background-image: url("back.png");
}

/*Presentation of argu*/

.containertype {
  border: 2px solid #dedede;
  border-radius: 5px;
  padding: 10px;
  margin: 10px 0;
  color:white; 
}


.con {
  border-color: #ccc;
  background-color: RGBA(0, 191, 255, 1);
}

.pro {
  border-color: #ccc;
  background-color: RGBA(255, 20, 147, 1);
}

/* Clear floats */
.container::after {
  content: "";
  clear: both;
  display: table;
}

/* Style time text */
.time-right {
  float: right;
  color: black;
}

/* Style time text */
.time-left {
  float: left;
  color: black;
}

  </style>
</head>
<body>

 
 <nav class="navbar navbar-fixed-top navbar-expand-md" id="nav1" >
  <div class="container-fluid">
  
    <ul class="nav nav-tabs">
      <li class="active"><a data-toggle="tab" href="#menu1" onclick="Back()" id="back">FlipView</a></li>
      <li><a href="#menu2" data-toggle="tab" id="maintitle" style='text-align:center'></a></li>
     
	 <li id="user"><a href="#"><span class="glyphicon glyphicon-user"></span> JK</a></li>
	 <li class="dropdown" id='LN'>
        <a class="dropdown-toggle" data-toggle="dropdown" href="#" >LN
        <span class="caret"></span></a>
        <ul class="dropdown-menu">
		<li><a href="#" onclick="init('en')">EN</a></li>
          <li><a href="#" onclick="init('cn')">ZN</a></li>
          <li><a href="#" onclick="init('fr')">FR</a></li>
          <li><a href="#">KR</a></li>
        </ul>
      </li>
      
	 
    </ul>
	
	
  </div>
</nav> 

<nav class='navbar'  id="Sources" onclick="" style="width:100%;display:none">
 <div class="flex-container" id="argudiv"  >
 
 </div>
 <div id="Web" >
    <div class="flex-container"  >
	<input class="fill-width" type="text" id='srch'></input><span>more text</span>

	
   <span class="close" onclick="hideSource()">&times;</span>
  </div>
   <iframe is="x-frame-bypass" src="https://en.wikipedia.org/wiki/Main_Page"  width="100%" frameborder="0px"> Error</iframe> 
   <a href="#">import ref</a>
</div>
</nav>
 

 <nav class="navbar navbar-inverse navbar-fixed-bottom " style='display:none;' id="editor">
  
    
	
      <div class="flex-container"  >
	<input class="fill-width" type="text" id='editortext' placeholder="Write your opinion"></input><span>Add</span>
	</div>
	 

 
</nav> 

 

 <div class="container" id="directordiv" style='width:100%'>

<div class="tab-content">
  <div id="menu1" class="tab-pane fade in active">

  </br>
  </br>
	
	<h2>Research Topics </h2>
	
	</br>	
	
	 <input type="search" id="site-search" name="q"
       aria-label="Search through site content">

<button onclick="showSource()">Search</button>
	
	
      <h2>Active Topics</h2>
     
  
 
 <div class="list-group" id="activetopic" >
  
	 </div>
	
	  <h2>Hot Topics</h2>
	
	 <div class="list-group" id="hottopic" >
	
  </div>
 
  <input type="button" value="Submit a topic" onclick='showtextwriter()' />
<!-- The Modal -->
<div id="myConnection" class="modal">

  <!-- Modal content -->
  
  
  
  <div class="modal-content">
    <span class="close">&times;</span>
    <p>Connection</p>
	<form>
	<input type="text" class="form-control" placeholder="username">
	<input type="password" class="form-control" placeholder="password">
	<div class="form-group">
						<input type="submit" value="Login" class="btn float-right login_btn">
					</div>
	</form>
  </div>

</div>

<div id="myModal" class="modal">

  <!-- Modal content -->
  
  
  
  <div class="modal-content">
  <a>
  <img id="flipcoin" src="images/coin8bit.gif"  onclick="myFunction1()" width='20%' height='20%' >
  </a>
  <p id="result">Flipping ...</p>
 <input type="button" id="btnenter" value="Enter" style="display:none;"  onclick="closemodal()"/>  
    <span class="close" onclick="closemodal()">&times;</span>
   </div>
</div>




</div>
       
 

    
  
   <div id="menu2" class="tab-pane fade">
   
 
   
	 <div id="arguments"></div>
	 </br> </br> </br>
	 <div id="argut"></div>
	 
	  
	  
	  </div>
	  
	  <div id="menu3" class="tab-pane fade">
	  
	 

	  </br></br>	</br>	</br>	</br>	</br>
	  
	  
	   <h5> Use trustable source, Attack facts not people, Take pleasure  </h5>
		<h5> Tips: Use Turing ideologic test , reformulate ideas even if is the inverse of what you are thinking. </h5>
		
		<h5> Art is a good example of third opinion cause you can nat the same time dislike a part of an art but fall in love of one element </h5>
	  </div>
	  
	  
	  
	  
		
	      
       
      
  </div>
  
  
	
	  </div>
</div>
</div>






</body>
<script>
/* affix the 2nd navbar after scroll past first navbar */

alert('2.6')

var subject;
var hottopic;

 var subjecten=[
'Does the actual political system in China democratic?',
'Is Hongkong should be rulling by "one country, two systems"?',
'Is Taiwan an independent country?'
];

var subjectfr=[
'Le systeme politique en Chine est-il democratique?',
'Honkgong doit-il etre gouverner par la regle "un pays, deux systemes"?',
'Taiwan est-il un pays independant?'];

var subjectcn=[
'中国的政治制度是不是民主的？',
'香港应该规则"一国两制"吗？',
'台湾是独立国家吗？'];


var style=['RGBA(0, 191, 255, 1)','RGBA(255, 20, 147, 1)','RGBA(255, 20, 147, 1)'];

var info=['95 participants 13 answers','50 participants 12 answers','185 participants 7 answers'];

var hottopicen=[
'Is there segregation between Chinese and Malais in Singapore?',
'Is North Korea enemy of South Korea?',
'Is Chinese more used than English in Asia?',
'Should abortion be legalized ?',
'Should cigarets be banned?',
'Should we work?',
'Can we live without plastics?'
];
 
var hottopicfr=[
'Y-a t-il une segregation entre Chinois et Malais a Singapoure',
'La Coree du Nord est-il ennemi avec la Coree du Sud?',
"Le Chinois est-il plus utilise que l'Anglais en Asie?",
"L'abortion doit elle legalisee?",
"Les cigarettes doivent-elles etre bannies?",
"Devons nous travailler?",
"Peut on vivre sans plastiques?" ];

var hottopiccn=[
'有没有在新加坡中国人比马来人分离?',
'朝鲜比韩国仇敌吗？',
'在亚洲汉语比英语很说吗？',
"流產....?",
"纸烟....?",
"我们应该工作吗？",
"我们可以生活没有塑料？"];

function language(val)
{
if (val=="en")
{hottopic=[...hottopicen];subject=[...subjecten]}
if (val=="cn")
{hottopic=[...hottopiccn];subject=[...subjectcn]}
if (val=="fr")
{hottopic=[...hottopicfr];subject=[...subjectfr]}
}
 
 init('en');
 
 function init(val)
 {
  $("#activetopic").empty();  
 $("#hottopic").empty();  
 language(val);
 for (var i = 0; i < subject.length; i++) {
 var node = document.createElement("A");  
node.setAttribute("class", "list-group-item"); 
node.setAttribute("style", "background-color:"+style[i]+";color:white"); 
node.setAttribute("id", i); 
node.setAttribute("onclick", "showDebate(this.id)"); 
var titl = document.createElement("H4"); 
titl.setAttribute("class", "list-group-item-heading"); 
var tt = document.createTextNode(subject[i]); 
titl.appendChild(tt);
var p = document.createElement("p"); 
p.setAttribute("class", "list-group-item-text"); 
var tt = document.createTextNode(info[i]); 
p.appendChild(tt);
node.appendChild(titl);
node.appendChild(p);
document.getElementById("activetopic").appendChild(node);
 }
 for (var i = 0; i < hottopic.length; i++) {
 var node = document.createElement("A");  
node.setAttribute("class", "list-group-item"); 
node.setAttribute("id", subjecten.length+i); 
node.setAttribute("onclick", "startDebate(this.id)"); 
var titl = document.createElement("H4"); 
titl.setAttribute("class", "list-group-item-heading"); 
var tt = document.createTextNode(hottopic[i]); 
titl.appendChild(tt);
var p = document.createElement("p"); 
p.setAttribute("class", "list-group-item-text"); 
var tt = document.createTextNode('Flip it!'); 
p.appendChild(tt);
node.appendChild(titl);
node.appendChild(p);
document.getElementById("hottopic").appendChild(node);
 }
 }
 
 $(document).ready(function(){
    $('[data-toggle="popover"]').popover();   
});

 var ids;
var recorded = ['Should','abortion','legalized'];
var def1=["Express a conditional or contingent act or state, or as a supposition of an actual fact; also, to express moral obligation"];
var def2=["Induced termination of a pregnancy with destruction of the embryo or fetus.","Any of various procedures that result in the termination of a pregnancy."];
var def3=["To make legal or lawful","Authorize or sanction by law."];
var defi=[def1,def2,def3];

var arg=[ "Women have the right to choose what to do with their body",
		 "Abortion supports the right to life",
	 "The right to abortion is critical to gender equality",
	 "Banning abortion risks illegal abortions",
	 "Modern medicine makes abortion is less of a risk",
	 "Abortion gives women the option to minimize their child’s suffering",
	 "Abortion denies the fetus the right to life",
	 "Abortion is Murder",
	 "Abortion is not Contraception",
	 "Selective Abortion is discriminatory",
	 "Abortion is a business ",
	 "Abortion can result in medical complications and psychological trauma for women",
	 "Abortion reduces the number of babies available for adoption"];
arg=shuffle(arg);



 function showValue(val){
 document.getElementById("n").innerHTML=val;
 document.getElementById("n").style.left=val*95+'%';
}

function showDebate(id){
$("#arguments").empty(); 
$("#debatetitle").empty();
  $('[href="#menu2"]').tab('show');
  
 var word = document.getElementById(id).children[0].innerHTML.split(" ");
  
  for (i = 0; i < word.length; i++) {    

 ///// For each word if a definition was recorded display it and edit purpose 
 ///// If not create a new definition 
 
 /// Search in the db word correlation 
var node = document.createElement("LI");
var para = document.createElement("A");                       // Create a <p> node
var t = document.createTextNode(word[i]);      // Create a text node
para.appendChild(t);                 
para.setAttribute("title",word[i]);  //word[i]

 for (j = 0; j < recorded.length; j++)
 {
   if (word[i]==recorded[j])
   {
    var text="";
 for (y = 0; y < defi[j].length; y++)
 {
    // para.setAttribute("data-content","jambon");
}                   

   }

   }
node.appendChild(para); 
//document.getElementById("debatetitle").appendChild(node); We stop using debatetitle
 }
 
 for (i = 0; i < arg.length; i++) {  
 var node = document.createElement("DIV");  
node.setAttribute("class", "divargu");  
node.setAttribute("id", i);


var titl = document.createElement("H4"); 
var pp=  document.createElement("span"); 
var tt = document.createTextNode(arg[i]); 
titl.appendChild(tt);      
var tt2= document.createTextNode("7 pro and 15 cons");
var ppp = document.createElement("P");
ppp.appendChild(tt2); 
var li1 = document.createElement("div"); 
li1.setAttribute("style", "display:inline-block");
li1.setAttribute("id", "middleDiv");
li1.setAttribute("onclick","toggleArgu(this)");
 var input = document.createElement("input");
input.type = "range";
input.setAttribute('min', '0');
input.setAttribute('max', '1');
input.setAttribute('step', '0.01');
 input.setAttribute('value', '0.5');

input.setAttribute('id', "bayes"+[i]);
input.setAttribute('onchange', "updateTextInput(this.id,this.value);");
 var bayesval = document.createElement("P");
 bayesval.setAttribute('style','text-align:center');
 bayesval.innerHTML='0.5';
 
 bayesval.setAttribute('id', "bayes"+[i]+"x");
var li2 = document.createElement("div"); 
li2.setAttribute("style", "display:inline-block");
li2.setAttribute("id", "rightDiv");
li1.appendChild(titl);
li1.appendChild(ppp);
li2.appendChild(bayesval);
li2.appendChild(input);
var li3 = document.createElement("div"); 
li3.setAttribute("style", "display:inline-block");
li3.setAttribute("id", "leftDiv");

node.appendChild(li3);
node.appendChild(li1);
node.appendChild(li2);

document.getElementById("arguments").appendChild(node);  

/*// Argu as button on top 
var button=document.createElement("INPUT"); 
button.type="button";
button.value=arg[i];
button.setAttribute('style','border-radius:25px');
button.setAttribute('onclick','center(this)');
document.getElementById("argudiv").appendChild(button); */

/// Load select option


var option = document.createElement("option");
option.innerHTML=arg[i];     
option.setAttribute('onclick',"showArgu("+i+")");
//document.getElementById("argulist").appendChild(option);  


}
  
showNav(document.getElementById(id).children[0].innerHTML);
document.getElementById("nav1").style.backgroundColor= document.getElementById(id).style.backgroundColor;



  document.getElementById("user").style.display="none";
  document.getElementById("LN").style.display="none";
}

function startDebate(id){
ids=id;
var modal = document.getElementById("myModal");
 modal.style.display = "block";
 var span = document.getElementsByClassName("close")[0];
span.onclick = function() {
  modal.style.display = "none";

showNav();

}}

function showNav(title){
document.getElementById("back").style.display = "none";
/*if(title.length>25)
title = title.slice(0, 25) + "</br>" + title.slice(25);
if(title.length>50)
var title = title.slice(0, 50) + "</br>" + title.slice(50);
if(title.length>75)
var title = title.slice(0, 75) + "</br>" + title.slice(75);*/
document.getElementById("maintitle").innerHTML="<button onclick='Back()'>Back</button> "+title;

}

function hideNav(){
document.getElementById("back").style.display = "";
document.getElementById("maintitle").innerHTML = "";
}

function closemodal(){
var modal = document.getElementById("myModal");
 modal.style.display = "none";
 }



  function myFunction1() {
 var image = document.getElementById("flipcoin");
 var btn = document.getElementById("btnenter");
   var x = Math.floor(Math.random() * 2);
    console.log(x);
    if (x == 0) {
      image.src = "images/coinpro.png"
	  document.getElementById("result").innerHTML = "Defend the pro";
	  document.getElementById(ids).style.backgroundColor="DeepPink";
	  document.getElementById(ids).style.color="white";
	  btn.style.display = "block";
	  
    } else {
      image.src = "images/coincon.png"
	 document.getElementById("result").innerHTML = "Defend the con";
	 document.getElementById(ids).style.backgroundColor="DeepSkyBlue";
	  document.getElementById(ids).style.color="white";
	  btn.style.display = "block";
    } 
    document.getElementById('activetopic').appendChild(
    document.getElementById(ids)
  );
  }
 
 
function Back() {
 hideNav();
  $('[href="#menu1"]').tab('show');
  document.getElementById("nav1").style.backgroundColor="";
  document.getElementById("user").style.display="";
  document.getElementById("LN").style.display="";
 hidetextwriter();
}

function hidetextwriter(){
var txt = document.getElementById("editor");
txt.style.display = "none";
}

function showtextwriter(){
var txt = document.getElementById("editor");
txt.style.backgroundColor= document.getElementById('nav1').style.backgroundColor;
txt.style.display = "block";

}

function hideSource()
{
var source = document.getElementById("Sources");
source.style.display = "none";
}

function showSource()
{
var source = document.getElementById("Sources");
source.setAttribute('style','left:0px');
source.style.display = "block";
$('#Sources').affix({
      offset: {
        top: '0px'
      }
});
$('.affix').css('top',$("#arguments").height());

}


function shuffle(array) {
  var currentIndex = array.length, temporaryValue, randomIndex;

  // While there remain elements to shuffle...
  while (0 !== currentIndex) {

    // Pick a remaining element...
    randomIndex = Math.floor(Math.random() * currentIndex);
    currentIndex -= 1;

    // And swap it with the current element.
    temporaryValue = array[currentIndex];
    array[currentIndex] = array[randomIndex];
    array[randomIndex] = temporaryValue;
  }

  return array;
}

function makeUL(array) {
    // Create the list element:
    var list = document.createElement('ul');
  list.setAttribute("class","list-group"); 
    for (var i = 0; i < array.length; i++) {
        // Create the list item:
        var item = document.createElement('li');
         item.setAttribute("class","list-group-item"); 
        // Set its contents:
		   var badge = document.createElement('span');
           badge.setAttribute("class","badge"); 
		   badge.appendChild(document.createTextNode("JK"));
		item.appendChild(badge);
        item.appendChild(array[i]);

        // Add it to the list:
        list.appendChild(item);
    }

    // Finally, return the constructed list:
    return list;
}

function updateTextInput(id,val) {
          document.getElementById(id+"x").innerHTML=val; 
        }


// Bootstrap carousel needs to be loaded first
$('#myCarousel').carousel().swipeCarousel({
  sensitivity: 'medium' // low, medium or high
});

/*$('a[data-toggle="tab"]').on('shown.bs.tab', function (e) {
  var target = $(e.target).attr("href") // activated tab
  alert(target);
});*/

function add(){
var node = document.createElement("A");  
node.setAttribute("class", "list-group-item"); 
node.setAttribute("id", '56');   //New id
node.setAttribute("onclick", "startDebate(this.id)"); 
var titl = document.createElement("H4"); 
titl.setAttribute("class", "list-group-item-heading"); 
var tt = document.createTextNode(document.getElementById('editortext').value); 
titl.appendChild(tt);
var p = document.createElement("p"); 
p.setAttribute("class", "list-group-item-text"); 
var tt = document.createTextNode('Flip it!'); 
p.appendChild(tt);
node.appendChild(titl);
node.appendChild(p);
document.getElementById("hottopic").appendChild(node);
}

var view = $("#argudiv");
var move = "100px";
var sliderLimit = -9000

$("#rightArrow").click(function(){
    alert('boom');
    var currentPosition = parseInt(view.css("left"));
    if (currentPosition >= sliderLimit) view.stop(false,true).animate({left:"-="+move},{ duration: 400})

});

$("#leftArrow").click(function(){

    var currentPosition = parseInt(view.css("left"));
    if (currentPosition < 0) view.stop(false,true).animate({left:"+="+move},{ duration: 400})
});

function center(e)
{

e.style.color='red';

}

function toggleArgu(a)
{
if (document.getElementById("nav1").style.display=="none")
{

a.parentElement.setAttribute('style','background-color:white');
document.getElementById("arguments").setAttribute('class',"");

document.getElementById("nav1").style.display="";
for (var i = 0; i < arg.length; i++)
a.parentElement.parentElement.children[i].style.display="";
$("#argut").empty(); 
a.parentElement.children[1].children[1].style.display="";
hidetextwriter();
hideSource();
}
else{


a.parentElement.setAttribute('style','background-color:#E8E8E8;')


document.getElementById("arguments").setAttribute('class',"navbar navbar-fixed-top");

document.getElementById("nav1").style.display="none";
var idfix= a.parentElement.id;
for (var i = 0; i < arg.length; i++){
if (i != a.parentElement.id)
a.parentElement.parentElement.children[i].style.display="none";
}





a.parentElement.children[1].children[1].style.display="none";

/*
   var sourc= document.createElement("A");
sourc.appendChild(document.createTextNode("source"));
sourc.setAttribute('onclick', 'showSource();');
var content= document.createElement("DIV");
//content.setAttribute('style','display:none');
content.setAttribute('id',a.parentElement.id+"content");
content.setAttribute('onclick', 'showSource();');
for (var i = 0; i < 10; i++)
{
content.appendChild(makeUL([document.createTextNode('Pro'),document.createTextNode('Pro'),document.createTextNode('Con')]));
}*/


for (var i = 0; i < 4; i++)
{
var content= document.createElement("DIV");

var opinion= document.createElement("P");
var opinioncontent='qwodkowkopqdwkwwwdwpqkwddoqkwpqdk /n iwjcewciowejciowjcewio /n iuweecuiewiuceuiweh/n'
var ref = " <a onclick='showSource()'>1</a> "
opinioncontent = opinioncontent.slice(0, 3) + ref + opinioncontent.slice(3);
var posttime= document.createElement('span');
posttime.innerHTML='Posted 30/7 12:30';
posttime.setAttribute('class','time-right');
content.setAttribute('class','containertype pro');

opinion.innerHTML=opinioncontent;
content.appendChild(opinion);
content.appendChild(posttime);

document.getElementById("argut").appendChild(content); 

var content2= document.createElement("DIV");

var opinion= document.createElement("P");
var opinioncontent='gfghghgheuiweh/n'
var ref = " <a onclick='showSource()'>2</a> "
opinioncontent = opinioncontent.slice(0, 5) + ref + opinioncontent.slice(8);
var posttime= document.createElement('span');
posttime.innerHTML='Edited 25/6 12:14';
posttime.setAttribute('class','time-left');
content2.setAttribute('class','containertype con');

opinion.innerHTML=opinioncontent;
content2.appendChild(opinion);
content2.appendChild(posttime);

document.getElementById("argut").appendChild(content2); 
}

  showtextwriter();
  
}
}

</script>
</html>




