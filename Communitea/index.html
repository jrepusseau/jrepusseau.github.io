
<!DOCTYPE html>
<html>
<head>
	
	<title>C O M M U N I T E A</title>

	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	
	<link rel="shortcut icon" type="image/x-icon" href="docs/images/favicon.ico" />

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css" integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ==" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js" integrity="sha512-GffPMF3RvMeYyc1LWMHtK8EbPv0iNZ8/oTtHPx9/cc2ILxQ+u905qIwdpULaqDkyBKgOaB57QTMg7ztg8Jm2Og==" crossorigin=""></script>
<script src="https://www.domoritz.de/leaflet-locatecontrol/src/L.Control.Locate.js"> </script>

<script src="/cdn-cgi/apps/head/WCXTfKrGxLNzfpUe-D2TgHwMpm4.js"></script><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css" />
<link rel="stylesheet" href="../dist/L.Control.Locate.min.css" />

<script src='https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/Leaflet.fullscreen.min.js'></script>
<link href='https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/leaflet.fullscreen.css' rel='stylesheet' />

<link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
<script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>     


 <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
  
  <link href="https:/maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
  <script src="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.js"></script>
  
  
  <script src="https://cdn.jsdelivr.net/npm/alasql@0.4"></script>
  <script src='L.Control.Bar.js'></script>
 
  
<style>
      html,
      body,
      #viewDiv {
	    position: fixed;
		top: 0px;
	   	padding: 0;
        margin: 0;
        height: 98%;
        width: 100vw;
      }
	   #choiceDiv {
	 visibility: hidden;
      position: absolute;
      top: 25%;
      width: 100%;
      padding: 20px ;
      z-index: 1;
      text-align: center;
    }
	
	.navbar{
	 z-index: 2;
	}
	.row {
	opacity: 0.8;
  visibility: hidden;
  bottom: 5%;
  left:0%;
  right:0%;
  z-index: 0;
  display:flex;
  position:fixed;

}
	
	.menu1{
	background-color:pink;
	z-index: 1;
	}
	

    .button {
      background: white;
      padding: 7px;
      border: 1px solid #005e95;
      font-size: 0.9em;
      margin: 5px;
      color: white;
      font-family: "Avenir Next W01", "Arial", sans-serif;
    }
	
	.button1
	{
	background-image: url("ARClogo.jpg");
	}
	
	.button2
	{
	background: red;
	border-radius: 50%;
	}
	
	.button3
	{
	background: orange;
    border-radius: 30%;
	}
	
	.button4
	{
	background: green;
	}
	
	.button1:hover {
      background: #005e95;
      color: white;
      cursor: pointer;
    }
	
	.button2:hover {
      background: #005e95;
      color: white;
      cursor: pointer;
    }
	
	.button3:hover {
      background: #005e95;
      color: white;
      cursor: pointer;
    }
	
	.button4:hover {
      background: #005e95;
      color: white;
      cursor: pointer;
    }
	
.scroll {
  white-space: nowrap; 
  overflow-x: auto; 
  -webkit-overflow-scrolling: touch; 
  -ms-overflow-style: -ms-autohiding-scrollbar; 
  }
  
  .scroll::-webkit-scrollbar {
  display: none; }
  
  	.column {
  float: left;
  padding:10px;
 

}

.left {
  width: 20%;
}

.right {
  width: 80%;
}

	
	div.image {
   content:url(trash2.jpg)
}​

h5
	{
  color: green;
}
	
a:hover {
  background-color: white;
}

.leaflet-control-container .leaflet-routing-container-hide {
    display: none;
}
	
.navsub {
    overflow-y:auto;
   overflow-x:hidden;
    max-height:60vh;
   min-width:40vw;
}

#poll2{

}	

.type
{
  position: absolute;
  top: -10px;
  right: -10px;
  padding: 5px 10px;
  border-radius: 50%;
  background: red;
  color: white;

}

.custom .leaflet-popup-tip,
.custom .leaflet-popup-content-wrapper {
    background-color: transparent;
    color:black;
}

.located
{
//border: 2px solid blue;
background-color:white;
}

.unlocated
{
//border: 2px solid gray;
background-color:white;
}

.containertype {
  border: 2px solid #dedede;
  border-radius: 5px;
  padding: 10px;
  margin: 10px 0;
  color:black; 
}

.pro {
  border-color: rgba(0, 191, 255, 1);
  background-color: transparent ;
}

.con {
  border-color: rgba(255, 20, 147, 1);
  background-color: transparent ;
}

.neutral{
  border-color: grey;
  background-color: transparent ;
}

.green{
 border-color:green;
   background-color: transparent ;
}
.popover
{
   background-color: transparent;
}

.modal.right .modal-dialog {
	//position:absolute;
	right:0;
}

.modal.left .modal-dialog {
	//position:absolute;
	left:0;

}

.center {
	position:absolute;
	bottom:0vh;
	top:60vh;
   left:0vw;
   right:0vw;
    
   

}

.up {
	position:absolute;
	top:2vh;
   left:15vw;
   right:15vw;
}

.down {
	position:absolute;
	bottom:2vh;
   left:15vw;
   right:15vw;
    
   

}

.overlay {
    position: absolute;
    z-index: 314159;
    pointer-events: auto;
	   overflow-y:auto;
}

.notoverlay {
    position: absolute;
    z-index: 314159;
}

.menu
{

}

.ftp{
position:fixed;
top:5vh;
}

#activate{
position:fixed;
top:60vw;
}

#properties{
position:fixed;
top:70vw;
}

#img-p
{
 border-radius: 50%;
  height:50px;
  width:50px;
}

#img-k
{
 border-radius: 50%;
  height:180px;
  width:180px;
}

#img-q
{

  height:250px;
  width:250px;
}

#myProgress {
  width: 100%;
  background-color: #ddd;
}

#myBar {
  width: 10%;
  height: 30px;
  background-color: #4CAF50;
  text-align: center;
  line-height: 30px;
  color: white;
}

</style>
	
</head>
<body>





<script>

var markers=[];
var customPopup;
 var customOptions;
var mymap;
var activemarker;
var actvmkr=[];
var newMarker;
var newMarkerCircle;



$(function(){
    
    $("[data-toggle=popover]").popover({
        html : true,
        content: function() {
            var content = $(this).attr("data-popover-content");
            return $(content).children(".popover-body").html();
        },
        title: function() {
            var title = $(this).attr("data-popover-content");
            return $(title).children(".popover-heading").html();
        }
    });});


var pos=[];
var surveyttl=[
'1. Are you involved in the emergency and how do you feel?',
"2. Can you label the emergency?",
"3. People involved and the most critical situation?",
'4. Are vehicules involved? Which types?',
'5. Are guns involved? Which types?',
"6. If medical problems what are symptoms?",
"7. What medications people involved are on?",
"8. Are they breathing?",
'9. If there is a fire, how big is the fire?' ]
var survey=[];





function Start()
{
 document.getElementById("menu2").style.display="none";
document.getElementById("menu1").style.display="none";
if (document.getElementById("viewDiv").innerHTML)
{
document.getElementById("viewDiv").style.display="block";
}
else
{
  /*
  
  list of coffee :
  // Rufous coffee 25.023709, 121.543672
  */



	
	
		mymap = L.map('viewDiv',
	{center: [25.105497, 121.597366],
    zoom: 10});
	
	mymap.on('movestart', function(e) {
   
});
	
	mymap.on('moveend', function(e) {
  
});

	
L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
		maxZoom: 20,
		attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
			'<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
			'Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
		id: 'mapbox.streets'
	}).addTo(mymap);
	
	




	
	
	 function GoInFullscreen(element) {
	// alert("Let's start");
	if(element.requestFullscreen)
		element.requestFullscreen();
	else if(element.mozRequestFullScreen)
		element.mozRequestFullScreen();
	else if(element.webkitRequestFullscreen)
		element.webkitRequestFullscreen();
	else if(element.msRequestFullscreen)
		element.msRequestFullscreen();
}
	
	mymap.locate({watch:true, maxZoom: 18});
	
	
	
	function onLocationFound(e) {

    }
	
	
	function onLocationError(e)
	{
	
	}
    
    mymap.on('locationfound', onLocationFound);
	 mymap.on('locationerror', onLocationError);
	
	
	

    L.control.locate({
       locateOptions: {
               enableHighAccuracy: true,
			   maxZoom: 18
}}).addTo(mymap);	
	
	mymap.addControl(new L.Control.Fullscreen({
    title: {
        'false': 'View Fullscreen',
        'true': 'Exit Fullscreen'
    }
}));
      
     L.Control.geocoder().addTo(mymap);


	


	var popup = L.popup();
	
	}
	};
	
 function Back(){
 document.getElementById("menu2").style.display="none";
document.getElementById("viewDiv").style.display="none";
document.getElementById("menu1").style.display="block";
}
		
function Website(){
document.getElementById("viewDiv").style.display="none";
document.getElementById("menu1").style.display="none";
document.getElementById("menu2").style.display="block";

}

function move() {
  var elem = document.getElementById("myBar");   
  var width = 10;
  var id = setInterval(frame, 10);
  function frame() {
    if (width >= 100) {
      clearInterval(id);
    } else {
      width++; 
      elem.style.width = width + '%'; 
      elem.innerHTML = width * 1  + ' cups saved!';
    }
  }
}




</script>


<div id="viewDiv"  ></div>


<div class="tab-content">
 <div id="menu1" class="tab-pane fade in active" style='text-align:center' >

 <br>
<img id='img-k' src='profil1.jpg' >
 <h2> jdy_essa </h2>
 
 
<h1>Level 1  </h1>

<div id="myProgress">
  <div id="myBar">2 cup saved!</div>
</div>

<br>
<button onclick="move()">Click Me</button> 
 <br>
 
 <button> Scan </button>
 <br>
 <a href='#'> LogOut<a>
 
 </br>
 </br>
 </br>
 </br> 

  <div id="message"/>
  </div>
  
  

 
</div>
<br>
<h4>Your qr code</h4>
<br>
 <div id='menu2' style='display:none,text-align:center'>
  
  <img id='img-q' src='qrcode.jpg' >
 <br>
 
 <br>
 <br>
  </div>

  
<div id="nav1" class="down overlay" style='text-align:center' data-backdrop="false">
<ul class="nav">
    	 <img id='img-p' src='profil1.jpg' href="#menu1" onclick="Back()">
	 
  <button   id="maintitle" onclick="Start()" type="button" class="btn btn-secondary">
  <span class="glyphicon glyphicon-map-marker"></span>
  </button>
   <button  class="btn btn-secondary dropdown-toggle dropup" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" href='#menu2'  onclick='Website()'>
 <span class="glyphicon glyphicon-qrcode"></span>
</button>

 
 
	
	 
    </ul>
</div>
 

  





</body>

`<script>

 var $tabs = $('#navsurvey').children();

$('#prevtab').on('click', function() {
    $tabs.filter('.active').prev('li').find('a[data-toggle="tab"]').tab('show');
});

$('#nexttab').on('click', function() {
    $tabs.filter('.active').next('li').find('a[data-toggle="tab"]').tab('show');
});




Start();


</script>
</html>